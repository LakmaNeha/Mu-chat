{"version":3,"sources":["firebase_config.js","appimg.svg","Login.js","ChatMessages.js","ChatRoom.js","CreateGroups.js","SignOut.js","GoBack.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","timestamp","FieldValue","serverTimestamp","auth","Login","useAuthState","user","console","log","className","src","appimg","alt","onClick","provider","GoogleAuthProvider","signInWithPopup","ChatMessages","props","message","text","uid","photoURL","messageClass","currentUser","ChatRoom","collectionName","messageRef","collection","query","where","useCollectionData","idField","messages","sort","a","b","createdAt","useState","formValue","setFormValue","dummy","useRef","useEffect","current","scrollIntoView","behavior","sendMessage","e","preventDefault","trim","length","add","roomName","map","msg","photo","id","ref","onSubmit","placeholder","value","onChange","target","type","CreateGroups","setCollectionName","setAdd","groupName","setGroupName","rooms","setRooms","onSnapshot","serverUpdate","docs","_doc","data","create","room","style","color","textAlign","List","_room","_index","enterRoom","cursor","Divider","SignOut","backgroundColor","border","outline","padding","signOut","fontSize","GoBack","App","Grid","container","justify","display","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e7fc73a0.chunk.js","sourcesContent":["import firebase from 'firebase';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyBeyg6i516kxJsBvv4AzXS5hPAIJDN57GY\",\n    authDomain: \"mu-chat-36c25.firebaseapp.com\",\n    projectId: \"mu-chat-36c25\",\n    storageBucket: \"mu-chat-36c25.appspot.com\",\n    messagingSenderId: \"144402752533\",\n    appId: \"1:144402752533:web:8272c882fc2934a8bdda1c\"\n  };\n  \n  firebase.initializeApp(firebaseConfig);\n\n  const db = firebase.firestore();\n  const timestamp = firebase.firestore.FieldValue.serverTimestamp;\n  const auth = firebase.auth();\n\n  export  { db , timestamp, auth};","export default __webpack_public_path__ + \"static/media/appimg.f54cdccf.svg\";","import React from 'react';\nimport firebase from 'firebase';\nimport {useAuthState} from 'react-firebase-hooks/auth';\nimport {auth} from './firebase_config';\nimport appimg from './appimg.svg'\n\n\nexport default function Login() {\n\n    const [user] = useAuthState(auth);\n\n    function SignIn(){\n        const provider = new firebase.auth.GoogleAuthProvider();\n        auth.signInWithPopup(provider);\n    }\n\n    console.log(\"user\" + user);\n\n    return (\n        <div className=\"loginContainer\">\n            <h1>Mu-chat</h1>\n            <img className=\"appimg\" src={appimg} alt=\"app-img\" />\n            <p>\n                This is a chat app. As you can see the name of this chat app is Mu-chat, many of you are wondering what it means right??\n                If you are from telangana state, you would have known.  . Mu-chat means gossip , discussion ... it has many other similar meanings too, in our telangana slang.\n                . Okay now let's dive in. \n            </p>\n            <button className=\"loginbtn\" onClick={SignIn} >\n             Sign-in with Google\n            </button>\n            \n        </div>\n    )\n    \n}\n\n","import React from 'react'\nimport {auth} from './firebase_config';\n\n\nexport default function ChatMessages( props ) {\n\n   const { text, uid, photoURL } = props.message;\n  \n\n    const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\n    console.log(\"authcurr\" + auth.currentUser);\n    return (\n       \n         \n              <div className = { `message  ${messageClass} `}>\n            <img  className='round-picture' src={photoURL} alt='profile' />\n            <p>{text}</p>\n            \n          </div>\n             \n        \n    )\n}\n","import React, {useState,useRef, useEffect} from 'react'\n\nimport {db,timestamp} from './firebase_config';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport ChatMessages from './ChatMessages';\nimport { IoRocketSharp } from \"react-icons/io5\";\nimport {auth} from './firebase_config';\n\nexport default function ChatRoom( {collectionName}) {\n\n\n\n    const messageRef = db.collection(\"messages\");\n    const query = messageRef.where(\"roomName\", \"==\", collectionName);\n    const [messages] = useCollectionData(query,{idField : 'id'})\n   if(messages){\n    messages.sort((a, b) => {\n        return a.createdAt - b.createdAt;\n    });\n   }\n   \n    const [formValue ,setFormValue] = useState('');\n    const dummy = useRef();\n    \n    useEffect(() => {\n\n        dummy.current.scrollIntoView({ behavior: 'smooth' }); \n\n    })\n    const sendMessage = async(e) => {\n\n        e.preventDefault();\n\n        if(formValue.trim().length===0){\n            \n        }\n        else{\n       \n\n        const { uid, photoURL } = auth.currentUser;\n\n\n        await messageRef.add({\n            text: formValue,\n            roomName: collectionName,\n            createdAt:  timestamp(),\n            uid,\n            photoURL\n        })\n        setFormValue('');\n        dummy.current.scrollIntoView({ behavior: 'smooth' });\n        \n    }\n\n\n    \n    console.log(\"authCurrentUser\" + auth.currentUser);\n    }\n    return (\n        <div>\n            \n            <div className=\"scroll\">\n              { messages && messages.map(msg => <ChatMessages key={msg.id} message={msg} photo={msg.photoURL}/>) }\n              <span ref={dummy}></span>\n              \n            </div>\n\n            {console.log(\"msg\" + messages)}\n            \n\n            <form className=\"msgform\" onSubmit={sendMessage}>\n\n                <input className=\"msginput\" placeholder=\"message...\" value={formValue} onChange={(e)=> setFormValue(e.target.value)}/>\n               <button className=\"sendbtn\" type='submit'> <IoRocketSharp />\n                </button>\n                </form>\n        </div>\n    )\n}\n","import React, {useState, useEffect} from 'react'\nimport ChatRoom from './ChatRoom';\nimport {db} from './firebase_config';\nimport { Divider,  List } from '@material-ui/core';\n\nexport default function CreateGroups( {collectionName,setCollectionName}) {\n    const [add, setAdd] = useState(false);\n    const [groupName ,setGroupName] = useState('');\n   \n    const [rooms, setRooms] = useState (null);\n\n\n  useEffect (()=>{\n    db.collection('rooms').onSnapshot(serverUpdate => {\n     \n      const rooms = serverUpdate.docs.map(_doc =>{\n     \n        const data = _doc.data();\n        data['id'] =_doc.id;\n        return data;\n      });\n      console.log(rooms);\n      setRooms(rooms);\n    });\n },[]);\n\n \n    function createNewGroup(){\n         setAdd(true)\n    }\n\n    const create= async(e) => {\n        e.preventDefault();\n        if(groupName.trim().length===0){\n            \n        }\n        else{\n          console.log(groupName);\n         \n\n          await  db.collection(\"rooms\").add({\n              room: groupName\n          });\n         \n          setGroupName(\"\")\n          setAdd(false)\n        }\n    }\n\n    const enterRoom = (collectionName) =>{\n        \n        setCollectionName(collectionName);\n    }\n    function hideForm(){\n        setAdd(false)\n    }\n\n    if(rooms){\n    return (\n      <div>\n            <div className={ collectionName  ? \"hide\" : \"backdrop\"}>\n            <h2 style={{color: \"white\", textAlign: \"center\"}}>create a new room</h2>\n            <button className=\"addbtn\" onClick={createNewGroup} >+</button>\n            { add ?  \n                <form className=\"createForm\" onSubmit={create}>\n                <input placeholder=\"Group name...\"value={groupName} onChange={(e)=> setGroupName(e.target.value)} />\n                <button className=\"cancelBtn\" onClick={hideForm}>❌</button>\n               <div> <button className=\"saveBtn\" type='submit'>Save</button>\n               </div>\n               \n                </form> :\n                null\n            }\n            <List>\n               {\n                 rooms.map((_room , _index) => {\n                 return(\n                     <div onClick={() => enterRoom(_room)} style={{cursor: \"pointer\"}}>\n                        <div className=\"listOfRooms\" key={_index} >\n                         \n                         {_room.room}\n                    \n                        </div>\n\n                        <Divider></Divider>\n                    </div>     \n                                )\n                            })\n                        }\n            </List>\n          \n            \n            </div>\n\n         \n            {console.log(\"collectionName\"+collectionName)}\n            {console.log(rooms)}\n            {collectionName  && <ChatRoom collectionName={collectionName} /> }\n            \n    \n      </div>\n    )\n        }\n    else {\n        return(<div></div>)\n    }    \n}\n","import React from 'react'\nimport {auth} from './firebase_config';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nexport default function SignOut() {\n    return  auth.currentUser && (\n        <div>\n        <button style={{backgroundColor: \"transparent\", border:\"none\", outline:\"none\" , padding:\"1rem\", cursor:\"pointer\"}} onClick={()=> auth.signOut()} >\n        < ExitToAppIcon style={{ color: 'white', fontSize: \"xx-large\"  }} />\n       </button>\n        </div>\n    )\n}\n","import React from 'react'\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nexport default function GoBack({collectionName, setCollectionName} ) {\n\n    function exitRoom (){\n        setCollectionName(null);\n    }\n\n    return (\n        <div>\n            {console.log(\"GoBack-collectionName\" + collectionName)}\n             <button \n            onClick={exitRoom}\n            style={{backgroundColor: \"transparent\", border:\"none\", outline:\"none\" , padding:\"1rem\", cursor:\"pointer\"}}>\n            < ArrowBackIcon style={{ color: 'white', fontSize: \"xx-large\"  }} /></button>\n            \n        </div>\n    )\n}\n","import {useAuthState} from 'react-firebase-hooks/auth';\nimport {auth} from './firebase_config';\nimport { useState } from 'react'\nimport './App.css';\nimport Login from './Login';\nimport CreateGroups from './CreateGroups';\nimport SignOut from './SignOut';\nimport { Grid } from '@material-ui/core'\nimport GoBack from './GoBack';\n\nfunction App() {\n\n  const [user] = useAuthState(auth);\n  const [collectionName, setCollectionName] = useState(null);\n\n  return (\n    <div className=\"App\">\n      \n     { user ? <div>\n        <header>\n          <Grid container justify=\"space-between\">\n            <Grid>{collectionName && <GoBack style={{display: \"inline\"}} collectionName={collectionName} setCollectionName={setCollectionName} /> } </Grid>\n           <Grid><h1>Mu-chat</h1></Grid> \n           <Grid><SignOut style={{display: \"inline\"}}/></Grid>\n          </Grid>\n        </header>\n          \n      </div> : null \n    }\n      \n       {user ? <CreateGroups collectionName={collectionName} setCollectionName={setCollectionName}/> : <Login/>}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}